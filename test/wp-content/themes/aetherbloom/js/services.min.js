!function(){"use strict";let e,t,n=window.aetherbloomServicesData||{services:[],activeService:0,sectionSelector:".services-section"},r={},a=!1;function s(){const e=document.querySelector(n.sectionSelector);e?(r={section:e,content:e.querySelector(".services-content"),menuItems:e.querySelectorAll(".service-menu-item"),arrows:e.querySelectorAll(".service-arrow"),cardContent:e.querySelector("#service-card-content"),cardNumber:e.querySelector("#card-number"),cardTitle:e.querySelector("#card-title"),cardSubtitle:e.querySelector("#card-subtitle"),cardDescription:e.querySelector("#card-description"),featuresList:e.querySelector("#features-list")},r.content&&r.menuItems.length?(r.menuItems.forEach((e,t)=>{e.addEventListener("mouseenter",()=>{window.innerWidth>768&&u(t)}),e.addEventListener("click",e=>{e.preventDefault(),u(t)}),e.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),u(t))}),e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.setAttribute("aria-label",`View ${n.services[t]?.title||"service"} details`)}),function(){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.add("visible"):e.target.classList.remove("visible")})},{threshold:.2,rootMargin:"-50px 0px -50px 0px"});r.content&&e.observe(r.content)}(),function(){if(!r.cardContent)return;const e=r.cardContent;e.addEventListener("mouseenter",i),e.addEventListener("mousemove",c),e.addEventListener("mouseleave",o),e.addEventListener("touchstart",d,{passive:!0}),e.addEventListener("touchend",l,{passive:!0})}(),u(n.activeService),console.log("Services section initialized successfully")):console.warn("Required services elements not found")):console.warn("Services section not found")}function i(){a=!0,clearTimeout(e)}function c(e){if(!a)return;const t=r.cardContent.getBoundingClientRect(),n=t.left+t.width/2,s=t.top+t.height/2,i=e.clientX-n,c=e.clientY-s,o=c/t.height*-10,d=i/t.width*10,l=i/t.width*20,u=c/t.height*20;requestAnimationFrame(()=>{if(a&&r.cardContent){const e=`perspective(1000px) rotateX(${o}deg) rotateY(${d}deg) translateX(${l}px) translateY(${u}px) translateZ(0) scale(1.02)`;r.cardContent.style.transform=e,r.cardContent.style.transition="transform 0.1s ease-out"}})}function o(){a=!1,e=setTimeout(()=>{r.cardContent&&!a&&(r.cardContent.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) translateX(0px) translateY(0px) translateZ(0) scale(1)",r.cardContent.style.transition="transform 0.3s ease-out")},50)}function d(e){e.preventDefault(),a=!0}function l(){a=!1,r.cardContent&&(r.cardContent.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) translateX(0px) translateY(0px) translateZ(0) scale(1)",r.cardContent.style.transition="transform 0.3s ease-out")}function u(e){e>=0&&e<n.services.length&&(n.activeService=e,v(),r.menuItems.forEach((e,t)=>{const a=t===n.activeService;a?(e.classList.add("active"),e.setAttribute("aria-selected","true")):(e.classList.remove("active"),e.setAttribute("aria-selected","false"));const s=r.arrows[t];s&&(a?s.classList.add("visible"):s.classList.remove("visible"))}))}function v(){if(!n.services[n.activeService])return;const e=n.services[n.activeService];if(r.cardNumber&&(r.cardNumber.textContent=String(n.activeService+1).padStart(2,"0")),r.cardTitle&&(r.cardTitle.textContent=e.title),r.cardSubtitle&&(r.cardSubtitle.textContent=e.subtitle),r.cardDescription&&(r.cardDescription.textContent=e.description),r.featuresList&&e.features){const t=e.features.map(e=>`\n                <li class="feature-item">\n                    <span class="feature-icon">âœ“</span>\n                    ${function(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}(e)}\n                </li>\n            `).join("");r.featuresList.innerHTML=t}r.cardContent&&(r.cardContent.style.opacity="0.8",r.cardContent.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) translateX(0px) translateY(0px) translateZ(0) scale(0.98)",setTimeout(()=>{r.cardContent&&(r.cardContent.style.opacity="1",r.cardContent.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) translateX(0px) translateY(0px) translateZ(0) scale(1)")},100))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s(),window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(()=>{r.cardContent&&(r.cardContent.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) translateX(0px) translateY(0px) translateZ(0) scale(1)")},250)}),document.addEventListener("visibilitychange",()=>{document.hidden&&(a=!1,clearTimeout(e),r.cardContent&&(r.cardContent.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) translateX(0px) translateY(0px) translateZ(0) scale(1)"))}),window.aetherbloomServices={setActiveService:u,updateServiceDisplay:v,servicesData:n}}();