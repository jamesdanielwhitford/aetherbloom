!function(){"use strict";let e={isVisible:!1,hoveredCard:null,mousePosition:{x:0,y:0,rotateX:0,rotateY:0},rafId:null,cardsData:[]},t={section:null,textContent:null,cardsContainer:null,cardsGrid:null,cards:[]};function n(){window.aetherbloomWhyData&&(e.cardsData=window.aetherbloomWhyData.cardsData),t.section=document.querySelector(".why-section"),t.textContent=document.querySelector(".why-section .why-text-content"),t.cardsContainer=document.querySelector(".why-section .why-cards-container"),t.cardsGrid=document.getElementById("why-cards-grid"),t.cards=Array.from(document.querySelectorAll(".why-section .why-card")),t.section?(new IntersectionObserver(n=>{n.forEach(n=>{e.isVisible=n.isIntersecting,t.textContent&&(e.isVisible?t.textContent.classList.add("visible"):t.textContent.classList.remove("visible")),t.cardsContainer&&(e.isVisible?t.cardsContainer.classList.add("visible"):t.cardsContainer.classList.remove("visible"))})},{threshold:.1,rootMargin:"-50px 0px -50px 0px"}).observe(t.section),function(){const n=n=>{e.rafId||(e.rafId=requestAnimationFrame(()=>{!function(n){if(null!==e.hoveredCard&&t.cards[e.hoveredCard]){const r=t.cards[e.hoveredCard].getBoundingClientRect(),a=r.left+r.width/2,s=r.top+r.height/2,i=n.clientX-a,d=n.clientY-s,c=d/r.height*-6,l=i/r.width*6,m=i/r.width*6,h=d/r.height*6;e.mousePosition={x:Math.max(-6,Math.min(6,m)),y:Math.max(-6,Math.min(6,h)),rotateX:Math.max(-6,Math.min(6,c)),rotateY:Math.max(-6,Math.min(6,l))},o()}}(n),e.rafId=null}))},r=()=>{e.hoveredCard=null,e.mousePosition={x:0,y:0,rotateX:0,rotateY:0},o()};t.section&&(t.section.addEventListener("mousemove",n),t.section.addEventListener("mouseleave",r))}(),t.cards.forEach((t,n)=>{t.addEventListener("mouseenter",()=>{e.hoveredCard=n,r()}),t.addEventListener("mouseleave",()=>{e.hoveredCard=null,e.mousePosition={x:0,y:0,rotateX:0,rotateY:0},o(),r()})})):console.warn("Why Aetherbloom section not found")}function o(){t.cards.forEach((t,n)=>{if(n===e.hoveredCard){const{x:n,y:o,rotateX:r,rotateY:a}=e.mousePosition;t.style.transform=`perspective(1000px) rotateX(${r}deg) rotateY(${a}deg) translateX(${n}px) translateY(${o}px) scale(1.02)`}else t.style.transform="perspective(1000px) rotateX(0deg) rotateY(0deg) translateX(0px) translateY(0px) scale(1)"})}function r(){t.cards.forEach((t,n)=>{n===e.hoveredCard?t.classList.add("why-card-hovered"):t.classList.remove("why-card-hovered")})}function a(){e.rafId&&(cancelAnimationFrame(e.rafId),e.rafId=null),t.section&&(t.section.removeEventListener("mousemove",()=>{}),t.section.removeEventListener("mouseleave",()=>{})),t.cards.forEach(e=>{e.removeEventListener("mouseenter",()=>{}),e.removeEventListener("mouseleave",()=>{})})}function s(){window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(t.cards.forEach(e=>{e.style.transform="none !important",e.style.transition="none !important"}),t.textContent&&(t.textContent.style.opacity="1",t.textContent.style.transform="translateY(0)"),t.cardsContainer&&(t.cardsContainer.style.opacity="1",t.cardsContainer.style.transform="translateY(0)"))}function i(){window.innerWidth<=768&&t.cards.forEach(e=>{e.style.transform="none !important",e.style.transition="all 0.2s ease !important"})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n(),window.addEventListener("resize",i);window.matchMedia("(prefers-reduced-motion: reduce)").addListener(s),s(),i(),window.addEventListener("beforeunload",a),window.aetherbloomWhyAetherbloom={init:n,cleanup:a,setHoveredCard:function(t){e.hoveredCard=t,o(),r()}}}();